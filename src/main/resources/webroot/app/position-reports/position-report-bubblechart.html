<div class="panel panel-default" ng-controller="PositionReportBubbleChartController as bubbleChart" style="border-top: 0px">
    <div class="panel-body">
        <div class="pull-right">
            <label for="memberSelect">Member:</label>
            <select name="memberSelect" id="memberSelect"
                    ng-options="option.member for option in bubbleChart.memberSelection.availableOptions"
                    ng-model="bubbleChart.memberSelection.selectedOption"
                    ng-change="bubbleChart.memberSelectionChanged(bubbleChart.memberSelection.selectedOption)">
            </select>
            <label for="accountSelect">Account:</label>
            <select name="accountSelect" id="accountSelect"
                    ng-options="option.account for option in bubbleChart.accountSelection.availableOptions[bubbleChart.memberSelection.selectedOption.clearer + '-' + bubbleChart.memberSelection.selectedOption.member]"
                    ng-model="bubbleChart.accountSelection.selectedOption"
                    ng-change="bubbleChart.selectionChanged(bubbleChart.accountSelection.selectedOption)">
            </select>
            <label for="bubblesCount">Number of bubbles:</label>
            <select name="bubblesCount" id="bubblesCount"
                    ng-model="bubbleChart.topRecordsCount"
                    ng-change="bubbleChart.selectionChanged(bubbleChart.accountSelection.selectedOption)">
                <option value="10">10</option>
                <option value="20">20</option>
                <option value="30">30</option>
            </select>
        </div>
    </div>
    <div class="panel-body">
        <initial-load
                ng-if="bubbleChart.chartObject.data.rows.length <= 1 && bubbleChart.initialLoad === true && bubbleChart.errorMessage === ''"/>

        <no-data
                ng-if="bubbleChart.chartObject.data.rows.length <= 1 && bubbleChart.initialLoad === false && bubbleChart.errorMessage === ''"/>

        <update-failed ng-if="bubbleChart.errorMessage !== ''" message="bubbleChart.errorMessage"/>

        <div class="panel-body" ng-if="bubbleChart.title != null">
            <div class="alert alert-info" role="info" ng-bind-html="bubbleChart.title"></div>
        </div>

        <div google-chart chart="bubbleChart.chartObject" style="height:345px; width:100%;"
             ng-if="bubbleChart.chartObject.data.rows.length > 0"></div>
        <br />

        <a href="#/positionReportLatest" class="btn btn-default btn-block">View Details</a>
    </div>
</div>